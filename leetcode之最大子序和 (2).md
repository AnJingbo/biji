

53. 最大子序和
给定一个整数数组 nums ，找到一个具有最大和的连续子数组（子数组最少包含一个元素），返回其最大和。

示例 1：
输入：nums = [-2,1,-3,4,-1,2,1,-5,4]
输出：6
解释：连续子数组 [4,-1,2,1] 的和最大，为 6 。

示例 2：
输入：nums = [1]
输出：1

示例 3：
输入：nums = [0]
输出：0

示例 4：
输入：nums = [-1]
输出：-1

示例 5：
输入：nums = [-100000]
输出：-100000

提示：
1 <= nums.length <= 3 * 104
-105 <= nums[i] <= 105

思路：

注：这道题不能用滑动窗口算法，因为数组中的数字可以是负数。当窗户扩大的时候可能遇到负数，窗口中的值也就可能增加也可能减少，这种情况下就不知道什么实际取收缩左侧窗口。

dp数组定义：**以nums[i]这个数结尾的连续子数组的最大和是dp[i]**。注意：一定是要以nums[i]为结尾，即一定会包含nums[i]这个元素。因为要求的子数组一定是连续的。

因此dp[i]有两种选择， **要么与前面的相邻子数组连接，形成一个和更大的子数组；要么不与前面的子数组连接，自成一派，自己作为一个子数组，两者选择最大的**。（不能只选前面的，而不选nums[i]，因为是要以nums[i]为结尾的，一定要选nums[i]这个元素。）
```java
class Solution {
    public int maxSubArray(int[] nums) {
        int[] dp = new int[nums.length];//以nums[i]这个数结尾的连续子数组的最大和是dp[i]
        int res = Integer.MIN_VALUE;
        dp[0] = nums[0];
        for(int i = 1; i < dp.length; i++){
            dp[i] = Math.max(dp[i - 1] + nums[i], nums[i]);
            res = Math.max(res, dp[i]);
        }
        return Math.max(res, dp[0]);//注意还要和nums[0]这个元素进行比较
    }
}
```